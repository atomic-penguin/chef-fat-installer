<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: HighLine::Question</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/highline/question_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/highline/question.rb">lib/highline/question.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link"><a href="../Object.html">Object</a></p>
				
			</div>
			

			<!-- Namespace Contents -->
			
			<div id="namespace-list-section" class="section">
				<h3 class="section-header">Namespace</h3>
				<ul class="link-list">
					
					<li><span class="type">CLASS</span> <a href="Question/NoAutoCompleteMatch.html">HighLine::Question::NoAutoCompleteMatch</a></li>
					
				</ul>
			</div>
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-new">::new</a></li>
					
					<li><a href="#method-i-answer_or_default">#answer_or_default</a></li>
					
					<li><a href="#method-i-append_default">#append_default</a></li>
					
					<li><a href="#method-i-build_responses">#build_responses</a></li>
					
					<li><a href="#method-i-change_case">#change_case</a></li>
					
					<li><a href="#method-i-convert">#convert</a></li>
					
					<li><a href="#method-i-expected_range">#expected_range</a></li>
					
					<li><a href="#method-i-first_answer">#first_answer</a></li>
					
					<li><a href="#method-i-first_answer%3F">#first_answer?</a></li>
					
					<li><a href="#method-i-in_range%3F">#in_range?</a></li>
					
					<li><a href="#method-i-remove_whitespace">#remove_whitespace</a></li>
					
					<li><a href="#method-i-selection">#selection</a></li>
					
					<li><a href="#method-i-to_str">#to_str</a></li>
					
					<li><a href="#method-i-valid_answer%3F">#valid_answer?</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="../INSTALL.html">INSTALL</a></li>
				
					<li class="file"><a href="../LICENSE.html">LICENSE</a></li>
				
					<li class="file"><a href="../README.html">README</a></li>
				
					<li class="file"><a href="../TODO.html">TODO</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../HighLine.html">HighLine</a></li>
				
					<li><a href="../HighLine/ColorScheme.html">HighLine::ColorScheme</a></li>
				
					<li><a href="../HighLine/Menu.html">HighLine::Menu</a></li>
				
					<li><a href="../HighLine/Question.html">HighLine::Question</a></li>
				
					<li><a href="../HighLine/Question/NoAutoCompleteMatch.html">HighLine::Question::NoAutoCompleteMatch</a></li>
				
					<li><a href="../HighLine/QuestionError.html">HighLine::QuestionError</a></li>
				
					<li><a href="../HighLine/SampleColorScheme.html">HighLine::SampleColorScheme</a></li>
				
					<li><a href="../HighLine/SystemExtensions.html">HighLine::SystemExtensions</a></li>
				
					<li><a href="../IO.html">IO</a></li>
				
					<li><a href="../Kernel.html">Kernel</a></li>
				
					<li><a href="../Object.html">Object</a></li>
				
					<li><a href="../String.html">String</a></li>
				
					<li><a href="../StringIO.html">StringIO</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">HighLine::Question</h1>

		<div id="description">
			<p>
<a href="Question.html">Question</a> objects contain all the details of a
single invocation of <a
href="../HighLine.html#method-i-ask">HighLine.ask()</a>.  The object is
initialized by the parameters passed to <a
href="../HighLine.html#method-i-ask">HighLine.ask()</a> and then queried to
make sure each step of the input process is handled according to the users
wishes.
</p>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		
		<div id="attribute-method-details" class="method-section section">
			<h3 class="section-header">Attributes</h3>

			
			<div id="question-attribute-method" class="method-detail">
				<a name="question"></a>
				
				<a name="question="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">question</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
The ERb template of the question to be asked.
</p>
				
				</div>
			</div>
			
			<div id="answer-type-attribute-method" class="method-detail">
				<a name="answer_type"></a>
				
				<a name="answer_type="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">answer_type</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
The type that will be used to convert this answer.
</p>
				
				</div>
			</div>
			
			<div id="character-attribute-method" class="method-detail">
				<a name="character"></a>
				
				<a name="character="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">character</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Can be set to <tt>true</tt> to use HighLine&#8217;s cross-platform
character reader instead of fetching an entire line of input.  (Note:
HighLine&#8217;s character reader <b>ONLY</b> supports STDIN on Windows and
Unix.)  Can also be set to <tt>:getc</tt> to use that method on the input
stream.
</p>
<p>
<b>WARNING</b>:  The <em>echo</em> and <em>overwrite</em> attributes for a
question are  ignored when using the <tt>:getc</tt> method.  
</p>
				
				</div>
			</div>
			
			<div id="limit-attribute-method" class="method-detail">
				<a name="limit"></a>
				
				<a name="limit="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">limit</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Allows you to set a character limit for input.
</p>
<p>
<b>WARNING</b>:  This option forces a character by character read.
</p>
				
				</div>
			</div>
			
			<div id="echo-attribute-method" class="method-detail">
				<a name="echo"></a>
				
				<a name="echo="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">echo</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Can be set to <tt>true</tt> or <tt>false</tt> to control whether or not
input will be echoed back to the user.  A setting of <tt>true</tt> will
cause echo to match input, but any other true value will be treated as to
<a href="../String.html">String</a> to echo for each character typed.
</p>
<p>
This requires HighLine&#8217;s character reader.  See the
<em>character</em> attribute for details.
</p>
<p>
<b>Note</b>:  When using <a href="../HighLine.html">HighLine</a> to manage
echo on Unix based systems, we recommend installing the termios gem. 
Without it, it&#8217;s possible to type fast enough to have letters still
show up (when reading character by character only).
</p>
				
				</div>
			</div>
			
			<div id="readline-attribute-method" class="method-detail">
				<a name="readline"></a>
				
				<a name="readline="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">readline</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Use the Readline library to fetch input.  This allows input editing as well
as keeping a history.  In addition, tab will auto-complete  within an Array
of choices or a file listing.
</p>
<p>
<b>WARNING</b>:  This option is incompatible with all of HighLine&#8217;s 
character reading  modes and it causes <a
href="../HighLine.html">HighLine</a> to ignore the specified <em>input</em>
stream.
</p>
				
				</div>
			</div>
			
			<div id="whitespace-attribute-method" class="method-detail">
				<a name="whitespace"></a>
				
				<a name="whitespace="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">whitespace</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Used to control whitespace processing for the answer to this question. See
<a
href="Question.html#method-i-remove_whitespace">HighLine::Question.remove_whitespace()</a>
for acceptable settings.
</p>
				
				</div>
			</div>
			
			<div id="case-attribute-method" class="method-detail">
				<a name="case"></a>
				
				<a name="case="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">case</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Used to control character case processing for the answer to this question.
See <a
href="Question.html#method-i-change_case">HighLine::Question.change_case()</a>
for acceptable settings.
</p>
				
				</div>
			</div>
			
			<div id="default-attribute-method" class="method-detail">
				<a name="default"></a>
				
				<a name="default="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">default</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Used to provide a default answer to this question.
</p>
				
				</div>
			</div>
			
			<div id="validate-attribute-method" class="method-detail">
				<a name="validate"></a>
				
				<a name="validate="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">validate</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
If set to a Regexp, the answer must match (before type conversion). Can
also be set to a Proc which will be called with the provided answer to
validate with a <tt>true</tt> or <tt>false</tt> return.
</p>
				
				</div>
			</div>
			
			<div id="above-attribute-method" class="method-detail">
				<a name="above"></a>
				
				<a name="above="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">above</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Used to control range checks for answer.
</p>
				
				</div>
			</div>
			
			<div id="below-attribute-method" class="method-detail">
				<a name="below"></a>
				
				<a name="below="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">below</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Used to control range checks for answer.
</p>
				
				</div>
			</div>
			
			<div id="in-attribute-method" class="method-detail">
				<a name="in"></a>
				
				<a name="in="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">in</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
If set, answer must pass an include?() check on this object.
</p>
				
				</div>
			</div>
			
			<div id="confirm-attribute-method" class="method-detail">
				<a name="confirm"></a>
				
				<a name="confirm="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">confirm</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Asks a yes or no confirmation question, to ensure a user knows what they
have just agreed to.  If set to <tt>true</tt> the question will be,
&#8220;Are you sure?  &#8220;  Any other true value for this attribute is
assumed to be the question to ask.  When <tt>false</tt> or <tt>nil</tt>
(the default),  answers are not confirmed.
</p>
				
				</div>
			</div>
			
			<div id="gather-attribute-method" class="method-detail">
				<a name="gather"></a>
				
				<a name="gather="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">gather</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
When set, the user will be prompted for multiple answers which will be
collected into an Array or Hash and returned as the final answer.
</p>
<p>
You can set <em>gather</em> to an Integer to have an Array of exactly that
many answers collected, or a String/Regexp to match an end input which will
not be returned in the Array.
</p>
<p>
Optionally <em>gather</em> can be set to a Hash.  In this case, the
question will be asked once for each key and the answers will be returned
in a Hash, mapped by key.  The <tt>@key</tt> variable is set before each 
question is evaluated, so you can use it in your question.
</p>
				
				</div>
			</div>
			
			<div id="first-answer-attribute-method" class="method-detail">
				<a name="first_answer"></a>
				
				<a name="first_answer="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">first_answer</span><span
						class="attribute-access-type">[W]</span>
				</div>

				<div class="method-description">
				
				<p>
When set to a non <b>nil</b> value, this will be tried as an answer to the
question.  If this answer passes validations, it will become the result
without the user ever being prompted.  Otherwise this value is discarded, 
and this <a href="Question.html">Question</a> is resolved as a normal call
to <a href="../HighLine.html#method-i-ask">HighLine.ask()</a>.
</p>
				
				</div>
			</div>
			
			<div id="directory-attribute-method" class="method-detail">
				<a name="directory"></a>
				
				<a name="directory="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">directory</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
The directory from which a user will be allowed to select files, when File
or Pathname is specified as an <em><a
href="Question.html#answer_type">answer_type</a></em>.  Initially set to
<tt>Pathname.new(File.expand_path(File.dirname($0)))</tt>.
</p>
				
				</div>
			</div>
			
			<div id="glob-attribute-method" class="method-detail">
				<a name="glob"></a>
				
				<a name="glob="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">glob</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
The glob pattern used to limit file selection when File or Pathname is
specified as an <em><a
href="Question.html#answer_type">answer_type</a></em>.  Initially set to
<tt>&quot;*&quot;</tt>.
</p>
				
				</div>
			</div>
			
			<div id="responses-attribute-method" class="method-detail">
				<a name="responses"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">responses</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p>
A Hash that stores the various responses used by <a
href="../HighLine.html">HighLine</a> to notify the user.  The currently
used responses and their purpose are as follows:
</p>
<table>
<tr><td valign="top"><tt>:ambiguous_completion</tt></td><td><p>
Used to notify the user of an ambiguous answer the auto-completion system
cannot resolve.
</p>
</td></tr>
<tr><td valign="top"><tt>:ask_on_error</tt></td><td><p>
This is the question that will be redisplayed to the user in the event of
an error.  Can be set to <tt>:question</tt> to repeat the original
question.
</p>
</td></tr>
<tr><td valign="top"><tt>:invalid_type</tt></td><td><p>
The error message shown when a type conversion fails.
</p>
</td></tr>
<tr><td valign="top"><tt>:no_completion</tt></td><td><p>
Used to notify the user that their selection does not have a valid
auto-completion match.
</p>
</td></tr>
<tr><td valign="top"><tt>:not_in_range</tt></td><td><p>
Used to notify the user that a provided answer did not satisfy the range
requirement tests.
</p>
</td></tr>
<tr><td valign="top"><tt>:not_valid</tt></td><td><p>
The error message shown when validation checks fail.
</p>
</td></tr>
</table>
				
				</div>
			</div>
			
			<div id="overwrite-attribute-method" class="method-detail">
				<a name="overwrite"></a>
				
				<a name="overwrite="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">overwrite</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
When set to <tt>true</tt> the question is asked, but output does not
progress to the next line.  The Cursor is moved back to the beginning of
the question line and it is cleared so that all the contents of the line
disappear from the screen.
</p>
				
				</div>
			</div>
			
		</div>
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">( question, answer_type )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Create an instance of <a href="Question.html">HighLine::Question</a>. 
Expects a <em>question</em> to ask (can be <tt>&quot;&quot;</tt>) and an
<em><a href="Question.html#answer_type">answer_type</a></em> to convert the
answer to. The <em><a href="Question.html#answer_type">answer_type</a></em>
parameter must be a type recognized by <a
href="Question.html#method-i-convert">Question.convert()</a>. If given, a
block is yeilded the new <a href="Question.html">Question</a> object to
allow custom initializaion.
</p>
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
    <span class="ruby-comment cmt"># File lib/highline/question.rb, line 34</span>
34:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">question</span>, <span class="ruby-identifier">answer_type</span> )
35:       <span class="ruby-comment cmt"># initialize instance data</span>
36:       <span class="ruby-ivar">@question</span>    = <span class="ruby-identifier">question</span>
37:       <span class="ruby-ivar">@answer_type</span> = <span class="ruby-identifier">answer_type</span>
38:       
39:       <span class="ruby-ivar">@character</span>    = <span class="ruby-keyword kw">nil</span>
40:       <span class="ruby-ivar">@limit</span>        = <span class="ruby-keyword kw">nil</span>
41:       <span class="ruby-ivar">@echo</span>         = <span class="ruby-keyword kw">true</span>
42:       <span class="ruby-ivar">@readline</span>     = <span class="ruby-keyword kw">false</span>
43:       <span class="ruby-ivar">@whitespace</span>   = <span class="ruby-value">:strip</span>
44:       <span class="ruby-ivar">@case</span>         = <span class="ruby-keyword kw">nil</span>
45:       <span class="ruby-ivar">@default</span>      = <span class="ruby-keyword kw">nil</span>
46:       <span class="ruby-ivar">@validate</span>     = <span class="ruby-keyword kw">nil</span>
47:       <span class="ruby-ivar">@above</span>        = <span class="ruby-keyword kw">nil</span>
48:       <span class="ruby-ivar">@below</span>        = <span class="ruby-keyword kw">nil</span>
49:       <span class="ruby-ivar">@in</span>           = <span class="ruby-keyword kw">nil</span>
50:       <span class="ruby-ivar">@confirm</span>      = <span class="ruby-keyword kw">nil</span>
51:       <span class="ruby-ivar">@gather</span>       = <span class="ruby-keyword kw">false</span>
52:       <span class="ruby-ivar">@first_answer</span> = <span class="ruby-keyword kw">nil</span>
53:       <span class="ruby-ivar">@directory</span>    = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">$0</span>)))
54:       <span class="ruby-ivar">@glob</span>         = <span class="ruby-value str">&quot;*&quot;</span>
55:       <span class="ruby-ivar">@responses</span>    = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
56:       <span class="ruby-ivar">@overwrite</span>    = <span class="ruby-keyword kw">false</span>
57:       
58:       <span class="ruby-comment cmt"># allow block to override settings</span>
59:       <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
60: 
61:       <span class="ruby-comment cmt"># finalize responses based on settings</span>
62:       <span class="ruby-identifier">build_responses</span>
63:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="answer-or-default-method" class="method-detail ">
				<a name="method-i-answer_or_default"></a>

				<div class="method-heading">
				
					<span class="method-name">answer_or_default</span><span
						class="method-args">( answer_string )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the provided <em>answer_string</em> or the default answer for this
<a href="Question.html">Question</a> if a default was set and the answer is
empty.
</p>
					

					
					<div class="method-source-code"
						id="answer-or-default-source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 209</span>
209:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">answer_or_default</span>( <span class="ruby-identifier">answer_string</span> )
210:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">answer_string</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@default</span>.<span class="ruby-identifier">nil?</span>
211:         <span class="ruby-ivar">@default</span>
212:       <span class="ruby-keyword kw">else</span>
213:         <span class="ruby-identifier">answer_string</span>
214:       <span class="ruby-keyword kw">end</span>
215:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="build-responses-method" class="method-detail ">
				<a name="method-i-build_responses"></a>

				<div class="method-heading">
				
					<span class="method-name">build_responses</span><span
						class="method-args">( )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Called late in the initialization process to build intelligent responses
based on the details of this <a href="Question.html">Question</a> object.
</p>
					

					
					<div class="method-source-code"
						id="build-responses-source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 221</span>
221:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_responses</span>(  )
222:       <span class="ruby-comment cmt">### WARNING:  This code is quasi-duplicated in     ###</span>
223:       <span class="ruby-comment cmt">### Menu.update_responses().  Check there too when ###</span>
224:       <span class="ruby-comment cmt">### making changes!                                ###</span>
225:       <span class="ruby-identifier">append_default</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">default</span>.<span class="ruby-identifier">nil?</span>
226:       <span class="ruby-ivar">@responses</span> = { <span class="ruby-value">:ambiguous_completion</span> =<span class="ruby-operator">&gt;</span>
227:                        <span class="ruby-value str">&quot;Ambiguous choice.  &quot;</span> <span class="ruby-operator">+</span>
228:                        <span class="ruby-node">&quot;Please choose one of #{@answer_type.inspect}.&quot;</span>,
229:                      <span class="ruby-value">:ask_on_error</span>         =<span class="ruby-operator">&gt;</span>
230:                        <span class="ruby-value str">&quot;?  &quot;</span>,
231:                      <span class="ruby-value">:invalid_type</span>         =<span class="ruby-operator">&gt;</span>
232:                        <span class="ruby-node">&quot;You must enter a valid #{@answer_type}.&quot;</span>,
233:                      <span class="ruby-value">:no_completion</span>        =<span class="ruby-operator">&gt;</span>
234:                        <span class="ruby-value str">&quot;You must choose one of &quot;</span> <span class="ruby-operator">+</span>
235:                        <span class="ruby-node">&quot;#{@answer_type.inspect}.&quot;</span>,
236:                      <span class="ruby-value">:not_in_range</span>         =<span class="ruby-operator">&gt;</span>
237:                        <span class="ruby-value str">&quot;Your answer isn't within the expected range &quot;</span> <span class="ruby-operator">+</span>
238:                        <span class="ruby-node">&quot;(#{expected_range}).&quot;</span>,
239:                      <span class="ruby-value">:not_valid</span>            =<span class="ruby-operator">&gt;</span>
240:                        <span class="ruby-value str">&quot;Your answer isn't valid (must match &quot;</span> <span class="ruby-operator">+</span>
241:                        <span class="ruby-node">&quot;#{@validate.inspect}).&quot;</span> }.<span class="ruby-identifier">merge</span>(<span class="ruby-ivar">@responses</span>)
242:       <span class="ruby-comment cmt">### WARNING:  This code is quasi-duplicated in     ###</span>
243:       <span class="ruby-comment cmt">### Menu.update_responses().  Check there too when ###</span>
244:       <span class="ruby-comment cmt">### making changes!                                ###</span>
245:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="change-case-method" class="method-detail ">
				<a name="method-i-change_case"></a>

				<div class="method-heading">
				
					<span class="method-name">change_case</span><span
						class="method-args">( answer_string )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the provided <em>answer_string</em> after changing character case
by the rules of this <a href="Question.html">Question</a>.  Valid settings
for whitespace are:
</p>
<table>
<tr><td valign="top"><tt>nil</tt></td><td><p>
Do not alter character case.  (Default.)
</p>
</td></tr>
<tr><td valign="top"><tt>:up</tt></td><td><p>
Calls upcase().
</p>
</td></tr>
<tr><td valign="top"><tt>:upcase</tt></td><td><p>
Calls upcase().
</p>
</td></tr>
<tr><td valign="top"><tt>:down</tt></td><td><p>
Calls downcase().
</p>
</td></tr>
<tr><td valign="top"><tt>:downcase</tt></td><td><p>
Calls downcase().
</p>
</td></tr>
<tr><td valign="top"><tt>:capitalize</tt></td><td><p>
Calls capitalize().
</p>
</td></tr>
</table>
<p>
An unrecognized choice (like <tt>:none</tt>) is treated as <tt>nil</tt>.
</p>
					

					
					<div class="method-source-code"
						id="change-case-source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 261</span>
261:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">change_case</span>( <span class="ruby-identifier">answer_string</span> )
262:       <span class="ruby-keyword kw">if</span> [<span class="ruby-value">:up</span>, <span class="ruby-value">:upcase</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@case</span>)
263:         <span class="ruby-identifier">answer_string</span>.<span class="ruby-identifier">upcase</span>
264:       <span class="ruby-keyword kw">elsif</span> [<span class="ruby-value">:down</span>, <span class="ruby-value">:downcase</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@case</span>)
265:         <span class="ruby-identifier">answer_string</span>.<span class="ruby-identifier">downcase</span>
266:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@case</span> <span class="ruby-operator">==</span> <span class="ruby-value">:capitalize</span>
267:         <span class="ruby-identifier">answer_string</span>.<span class="ruby-identifier">capitalize</span>
268:       <span class="ruby-keyword kw">else</span>
269:         <span class="ruby-identifier">answer_string</span>
270:       <span class="ruby-keyword kw">end</span>
271:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="convert-method" class="method-detail ">
				<a name="method-i-convert"></a>

				<div class="method-heading">
				
					<span class="method-name">convert</span><span
						class="method-args">( answer_string )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Transforms the given <em>answer_string</em> into the expected type for this
<a href="Question.html">Question</a>.  Currently supported conversions are:
</p>
<table>
<tr><td valign="top"><tt>[...]</tt></td><td><p>
Answer must be a member of the passed Array.  Auto-completion is used to
expand partial answers.
</p>
</td></tr>
<tr><td valign="top"><tt>lambda {...}</tt></td><td><p>
Answer is passed to lambda for conversion.
</p>
</td></tr>
<tr><td valign="top">Date</td><td><p>
Date.parse() is called with answer.
</p>
</td></tr>
<tr><td valign="top">DateTime</td><td><p>
DateTime.parse() is called with answer.
</p>
</td></tr>
<tr><td valign="top">File</td><td><p>
The entered file name is auto-completed in  terms of <em>directory</em> +
<em>glob</em>, opened, and returned.
</p>
</td></tr>
<tr><td valign="top">Float</td><td><p>
Answer is converted with <a href="../Kernel.html">Kernel</a>.Float().
</p>
</td></tr>
<tr><td valign="top">Integer</td><td><p>
Answer is converted with <a href="../Kernel.html">Kernel</a>.Integer().
</p>
</td></tr>
<tr><td valign="top"><tt>nil</tt></td><td><p>
Answer is left in <a href="../String.html">String</a> format.  (Default.)
</p>
</td></tr>
<tr><td valign="top">Pathname</td><td><p>
Same as File, save that a Pathname object is returned.
</p>
</td></tr>
<tr><td valign="top"><a href="../String.html">String</a></td><td><p>
Answer is converted with <a href="../Kernel.html">Kernel</a>.String().
</p>
</td></tr>
<tr><td valign="top">Regexp</td><td><p>
Answer is fed to Regexp.new().
</p>
</td></tr>
<tr><td valign="top">Symbol</td><td><p>
The method to_sym() is called on answer and the result returned.
</p>
</td></tr>
<tr><td valign="top"><em>any other Class</em></td><td><p>
The answer is passed on to <tt>Class.parse()</tt>.
</p>
</td></tr>
</table>
<p>
This method throws ArgumentError, if the conversion cannot be completed for
any reason.
</p>
					

					
					<div class="method-source-code"
						id="convert-source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 301</span>
301:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">convert</span>( <span class="ruby-identifier">answer_string</span> )
302:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@answer_type</span>.<span class="ruby-identifier">nil?</span>
303:         <span class="ruby-identifier">answer_string</span>
304:       <span class="ruby-keyword kw">elsif</span> [<span class="ruby-constant">Float</span>, <span class="ruby-constant">Integer</span>, <span class="ruby-constant">String</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@answer_type</span>)
305:         <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">send</span>(<span class="ruby-ivar">@answer_type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">answer_string</span>)
306:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@answer_type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Symbol</span>
307:         <span class="ruby-identifier">answer_string</span>.<span class="ruby-identifier">to_sym</span>
308:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@answer_type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Regexp</span>
309:         <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">answer_string</span>)
310:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@answer_type</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-keyword kw">or</span> [<span class="ruby-constant">File</span>, <span class="ruby-constant">Pathname</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@answer_type</span>)
311:         <span class="ruby-comment cmt"># cheating, using OptionParser's Completion module</span>
312:         <span class="ruby-identifier">choices</span> = <span class="ruby-identifier">selection</span>
313:         <span class="ruby-identifier">choices</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">Completion</span>)
314:         <span class="ruby-identifier">answer</span> = <span class="ruby-identifier">choices</span>.<span class="ruby-identifier">complete</span>(<span class="ruby-identifier">answer_string</span>)
315:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">answer</span>.<span class="ruby-identifier">nil?</span>
316:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoAutoCompleteMatch</span>
317:         <span class="ruby-keyword kw">end</span>
318:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@answer_type</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
319:           <span class="ruby-identifier">answer</span>.<span class="ruby-identifier">last</span>
320:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@answer_type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">File</span>
321:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-ivar">@directory</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">answer</span>.<span class="ruby-identifier">last</span>))
322:         <span class="ruby-keyword kw">else</span>
323:           <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-ivar">@directory</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">answer</span>.<span class="ruby-identifier">last</span>))
324:         <span class="ruby-keyword kw">end</span>
325:       <span class="ruby-keyword kw">elsif</span> [<span class="ruby-constant">Date</span>, <span class="ruby-constant">DateTime</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@answer_type</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@answer_type</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Class</span>)
326:         <span class="ruby-ivar">@answer_type</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">answer_string</span>)
327:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@answer_type</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Proc</span>)
328:         <span class="ruby-ivar">@answer_type</span>[<span class="ruby-identifier">answer_string</span>]
329:       <span class="ruby-keyword kw">end</span>
330:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="expected-range-method" class="method-detail ">
				<a name="method-i-expected_range"></a>

				<div class="method-heading">
				
					<span class="method-name">expected_range</span><span
						class="method-args">( )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a english explination of the current range settings.
</p>
					

					
					<div class="method-source-code"
						id="expected-range-source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 333</span>
333:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expected_range</span>(  )
334:       <span class="ruby-identifier">expected</span> = [ ]
335: 
336:       <span class="ruby-identifier">expected</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;above #{@above}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@above</span>.<span class="ruby-identifier">nil?</span>
337:       <span class="ruby-identifier">expected</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;below #{@below}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@below</span>.<span class="ruby-identifier">nil?</span>
338:       <span class="ruby-identifier">expected</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;included in #{@in.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@in</span>.<span class="ruby-identifier">nil?</span>
339: 
340:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">size</span>
341:       <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-value str">&quot;&quot;</span>
342:       <span class="ruby-keyword kw">when</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">first</span>
343:       <span class="ruby-keyword kw">when</span> <span class="ruby-value">2</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; and &quot;</span>)
344:       <span class="ruby-keyword kw">else</span>        <span class="ruby-identifier">expected</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;, &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-node">&quot;, and #{expected.last}&quot;</span>
345:       <span class="ruby-keyword kw">end</span>
346:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="first-answer-method" class="method-detail ">
				<a name="method-i-first_answer"></a>

				<div class="method-heading">
				
					<span class="method-name">first_answer</span><span
						class="method-args">( )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns <em><a
href="Question.html#method-i-first_answer">first_answer</a></em>, which
will be unset following this call.
</p>
					

					
					<div class="method-source-code"
						id="first-answer-source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 349</span>
349:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">first_answer</span>( )
350:       <span class="ruby-ivar">@first_answer</span>
351:     <span class="ruby-keyword kw">ensure</span>
352:       <span class="ruby-ivar">@first_answer</span> = <span class="ruby-keyword kw">nil</span>
353:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="first-answer--method" class="method-detail ">
				<a name="method-i-first_answer%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">first_answer?</span><span
						class="method-args">( )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns true if <em><a
href="Question.html#method-i-first_answer">first_answer</a></em> is set.
</p>
					

					
					<div class="method-source-code"
						id="first-answer--source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 356</span>
356:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">first_answer?</span>( )
357:       <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@first_answer</span>.<span class="ruby-identifier">nil?</span>
358:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="in-range--method" class="method-detail ">
				<a name="method-i-in_range%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">in_range?</span><span
						class="method-args">( answer_object )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns <tt>true</tt> if the <em>answer_object</em> is greater than the
<em>above</em> attribute, less than the <em>below</em> attribute and
included?()ed in the <em>in</em> attribute.  Otherwise, <tt>false</tt> is
returned.  Any <tt>nil</tt> attributes are not checked.
</p>
					

					
					<div class="method-source-code"
						id="in-range--source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 366</span>
366:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_range?</span>( <span class="ruby-identifier">answer_object</span> )
367:       (<span class="ruby-ivar">@above</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">answer_object</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@above</span>) <span class="ruby-keyword kw">and</span>
368:       (<span class="ruby-ivar">@below</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">answer_object</span> <span class="ruby-operator">&lt;</span> <span class="ruby-ivar">@below</span>) <span class="ruby-keyword kw">and</span>
369:       (<span class="ruby-ivar">@in</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@in</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">answer_object</span>))
370:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="remove-whitespace-method" class="method-detail ">
				<a name="method-i-remove_whitespace"></a>

				<div class="method-heading">
				
					<span class="method-name">remove_whitespace</span><span
						class="method-args">( answer_string )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the provided <em>answer_string</em> after processing whitespace by
the rules of this <a href="Question.html">Question</a>.  Valid settings for
whitespace are:
</p>
<table>
<tr><td valign="top"><tt>nil</tt></td><td><p>
Do not alter whitespace.
</p>
</td></tr>
<tr><td valign="top"><tt>:strip</tt></td><td><p>
Calls strip().  (Default.)
</p>
</td></tr>
<tr><td valign="top"><tt>:chomp</tt></td><td><p>
Calls chomp().
</p>
</td></tr>
<tr><td valign="top"><tt>:collapse</tt></td><td><p>
Collapses all whitspace runs to a single space.
</p>
</td></tr>
<tr><td valign="top"><tt>:strip_and_collapse</tt></td><td><p>
Calls strip(), then collapses all whitspace runs to a single space.
</p>
</td></tr>
<tr><td valign="top"><tt>:chomp_and_collapse</tt></td><td><p>
Calls chomp(), then collapses all whitspace runs to a single space.
</p>
</td></tr>
<tr><td valign="top"><tt>:remove</tt></td><td><p>
Removes all whitespace.
</p>
</td></tr>
</table>
<p>
An unrecognized choice (like <tt>:none</tt>) is treated as <tt>nil</tt>.
</p>
<p>
This process is skipped, for single character input.
</p>
					

					
					<div class="method-source-code"
						id="remove-whitespace-source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 391</span>
391:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_whitespace</span>( <span class="ruby-identifier">answer_string</span> )
392:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@whitespace</span>.<span class="ruby-identifier">nil?</span>
393:         <span class="ruby-identifier">answer_string</span>
394:       <span class="ruby-keyword kw">elsif</span> [<span class="ruby-value">:strip</span>, <span class="ruby-value">:chomp</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@whitespace</span>)
395:         <span class="ruby-identifier">answer_string</span>.<span class="ruby-identifier">send</span>(<span class="ruby-ivar">@whitespace</span>)
396:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@whitespace</span> <span class="ruby-operator">==</span> <span class="ruby-value">:collapse</span>
397:         <span class="ruby-identifier">answer_string</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\s+/</span>, <span class="ruby-value str">&quot; &quot;</span>)
398:       <span class="ruby-keyword kw">elsif</span> [<span class="ruby-value">:strip_and_collapse</span>, <span class="ruby-value">:chomp_and_collapse</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@whitespace</span>)
399:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">answer_string</span>.<span class="ruby-identifier">send</span>(<span class="ruby-ivar">@whitespace</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-regexp re">/^[a-z]+/</span>])
400:         <span class="ruby-identifier">result</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\s+/</span>, <span class="ruby-value str">&quot; &quot;</span>)
401:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@whitespace</span> <span class="ruby-operator">==</span> <span class="ruby-value">:remove</span>
402:         <span class="ruby-identifier">answer_string</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\s+/</span>, <span class="ruby-value str">&quot;&quot;</span>)
403:       <span class="ruby-keyword kw">else</span>
404:         <span class="ruby-identifier">answer_string</span>
405:       <span class="ruby-keyword kw">end</span>
406:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="selection-method" class="method-detail ">
				<a name="method-i-selection"></a>

				<div class="method-heading">
				
					<span class="method-name">selection</span><span
						class="method-args">( )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an Array of valid answers to this question.  These answers are only
known when <em><a href="Question.html#answer_type">answer_type</a></em> is
set to an Array of choices, File, or Pathname.  Any other time, this method
will return an empty Array.
</p>
					

					
					<div class="method-source-code"
						id="selection-source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 413</span>
413:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">selection</span>(  )
414:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@answer_type</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
415:         <span class="ruby-ivar">@answer_type</span>
416:       <span class="ruby-keyword kw">elsif</span> [<span class="ruby-constant">File</span>, <span class="ruby-constant">Pathname</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@answer_type</span>)
417:         <span class="ruby-constant">Dir</span>[<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-ivar">@directory</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-ivar">@glob</span>)].<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
418:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">file</span>)
419:         <span class="ruby-keyword kw">end</span>
420:       <span class="ruby-keyword kw">else</span>
421:         [ ]
422:       <span class="ruby-keyword kw">end</span>      
423:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="to-str-method" class="method-detail ">
				<a name="method-i-to_str"></a>

				<div class="method-heading">
				
					<span class="method-name">to_str</span><span
						class="method-args">( )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Stringifies the question to be asked.
</p>
					

					
					<div class="method-source-code"
						id="to-str-source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 426</span>
426:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_str</span>(  )
427:       <span class="ruby-ivar">@question</span>
428:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="valid-answer--method" class="method-detail ">
				<a name="method-i-valid_answer%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">valid_answer?</span><span
						class="method-args">( answer_string )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns <tt>true</tt> if the provided <em>answer_string</em> is accepted by
the  <em>validate</em> attribute or <tt>false</tt> if it&#8217;s not.
</p>
<p>
It&#8217;s important to realize that an answer is validated after
whitespace and case handling.
</p>
					

					
					<div class="method-source-code"
						id="valid-answer--source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 437</span>
437:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">valid_answer?</span>( <span class="ruby-identifier">answer_string</span> )
438:       <span class="ruby-ivar">@validate</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> 
439:       (<span class="ruby-ivar">@validate</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Regexp</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">answer_string</span> <span class="ruby-operator">=~</span> <span class="ruby-ivar">@validate</span>) <span class="ruby-keyword kw">or</span>
440:       (<span class="ruby-ivar">@validate</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Proc</span>)   <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@validate</span>[<span class="ruby-identifier">answer_string</span>])
441:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="append-default-method" class="method-detail ">
				<a name="method-i-append_default"></a>

				<div class="method-heading">
				
					<span class="method-name">append_default</span><span
						class="method-args">( )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Adds the default choice to the end of question between <tt>|...|</tt>.
Trailing whitespace is preserved so the function of <a
href="../HighLine.html#method-i-say">HighLine.say()</a> is not affected.
</p>
					

					
					<div class="method-source-code"
						id="append-default-source">
<pre>
     <span class="ruby-comment cmt"># File lib/highline/question.rb, line 450</span>
450:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">append_default</span>(  )
451:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/([\t ]+)\Z/</span>
452:         <span class="ruby-ivar">@question</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;|#{@default}|#{$1}&quot;</span>
453:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@question</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
454:         <span class="ruby-ivar">@question</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;|#{@default}|  &quot;</span>
455:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@question</span>[<span class="ruby-value">1</span>, <span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;\n&quot;</span>
456:         <span class="ruby-ivar">@question</span>[<span class="ruby-value">2</span>, <span class="ruby-value">0</span>] =  <span class="ruby-node">&quot;  |#{@default}|&quot;</span>
457:       <span class="ruby-keyword kw">else</span>
458:         <span class="ruby-ivar">@question</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  |#{@default}|&quot;</span>
459:       <span class="ruby-keyword kw">end</span>
460:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

